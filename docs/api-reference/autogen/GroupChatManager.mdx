---
sidebarTitle: GroupChatManager
title: autogen.GroupChatManager
---
<h2 id="autogen.GroupChatManager" class="doc doc-heading">
    <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
    <span class="doc doc-object-name doc-class-name">GroupChatManager</span>
</h2>

```python
GroupChatManager(
    groupchat: autogen.agentchat.groupchat.GroupChat,
    name: str | None = 'chat_manager',
    max_consecutive_auto_reply: int | None = 9223372036854775807,
    human_input_mode: Literal['ALWAYS', 'NEVER', 'TERMINATE'] = 'NEVER',
    system_message: str | list | None = 'Group chat manager.',
    silent: bool = False,
    **kwargs: Any
)
```

    (In preview) A chat manager agent that can manage a group chat of multiple agents.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `groupchat` | **Type:** `autogen.agentchat.groupchat.GroupChat` |
| `name` | **Type:** `str \| None`<br/><br/>**Default:** 'chat_manager' |
| `max_consecutive_auto_reply` | **Type:** `int \| None`<br/><br/>**Default:** 9223372036854775807 |
| `human_input_mode` | **Type:** `Literal['ALWAYS', 'NEVER', 'TERMINATE']`<br/><br/>**Default:** 'NEVER' |
| `system_message` | **Type:** `str \| list \| None`<br/><br/>**Default:** 'Group chat manager.' |
| `silent` | **Type:** `bool`<br/><br/>**Default:** False |
| `**kwargs` | **Type:** `Any` |

### Instance Attributes

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### groupchat
<br />

    Returns the group chat managed by the group chat manager.

<code class="doc-symbol doc-symbol-heading doc-symbol-attribute"></code>
#### last_speaker
<br />

    Return the agent who sent the last message to group chat manager.<br/>In a group chat, an agent will always send a message to the group chat manager, and the group chat manager will
    send the message to all other agents in the group chat. So, when an agent receives a message, it will always be
    from the group chat manager. With this property, the agent receiving the message can know who actually sent the
    message.<br/>Example: 
    ```python
    from autogen import ConversableAgent
    from autogen import GroupChat, GroupChatManager
    
    
    def print_messages(recipient, messages, sender, config): <br/>    # Print the message immediately
        print(f"Sender: \{sender.name} | Recipient: \{recipient.name} | Message: \{messages[-1].get('content')}")
        print(f"Real Sender: \{sender.last_speaker.name}")
        assert sender.last_speaker.name in messages[-1].get("content")
        return False, None  # Required to ensure the agent communication flow continues
    
    
    agent_a = ConversableAgent("agent A", default_auto_reply="I'm agent A.")
    agent_b = ConversableAgent("agent B", default_auto_reply="I'm agent B.")
    agent_c = ConversableAgent("agent C", default_auto_reply="I'm agent C.")
    for agent in [agent_a, agent_b, agent_c]: <br/>    agent.register_reply([ConversableAgent, None], reply_func=print_messages, config=None)
    group_chat = GroupChat(
        [agent_a, agent_b, agent_c],
        messages=[],
        max_round=6,
        speaker_selection_method="random",
        allow_repeat_speaker=True,
    )
    chat_manager = GroupChatManager(group_chat)
    groupchat_result = agent_a.initiate_chat(chat_manager, message="Hi, there, I'm agent A.")
    ```

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### a_resume

```python
a_resume(
    self,
    messages: list[dict[str, typing.Any]] | str,
    remove_termination_string: str | Callable[[str], str] | None = None,
    silent: bool | None = False
) -> tuple[autogen.agentchat.conversable_agent.ConversableAgent, dict[str, typing.Any]]
```

    Resumes a group chat using the previous messages as a starting point, asynchronously. Requires the agents, group chat, and group chat manager to be established
    as per the original group chat.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** `list[dict[str, typing.Any]] \| str` |
| `remove_termination_string` | **Type:** `str \| Callable[[str], str] \| None`<br/><br/>**Default:** None |
| `silent` | **Type:** `bool \| None`<br/><br/>**Default:** False |

<b>Returns:</b>
| Type | Description |
|--|--|
| `tuple[autogen.agentchat.conversable_agent.ConversableAgent, dict[str, typing.Any]]` | - Tuple[ConversableAgent, Dict]: A tuple containing the last agent who spoke and their message |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### a_run_chat

```python
a_run_chat(
    self,
    messages: list[dict[str, typing.Any]] | None = None,
    sender: autogen.agentchat.agent.Agent | None = None,
    config: autogen.agentchat.groupchat.GroupChat | None = None
) -> 
```

    Run a group chat asynchronously.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** `list[dict[str, typing.Any]] \| None`<br/><br/>**Default:** None |
| `sender` | **Type:** `autogen.agentchat.agent.Agent \| None`<br/><br/>**Default:** None |
| `config` | **Type:** `autogen.agentchat.groupchat.GroupChat \| None`<br/><br/>**Default:** None |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### chat_messages_for_summary

```python
chat_messages_for_summary(self, agent: autogen.agentchat.agent.Agent) -> list[dict[str, typing.Any]]
```

    The list of messages in the group chat as a conversation to summarize.<br/>The agent is ignored.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `agent` | **Type:** `autogen.agentchat.agent.Agent` |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### clear_agents_history

```python
clear_agents_history(
    self,
    reply: dict[str, typing.Any],
    groupchat: autogen.agentchat.groupchat.GroupChat
) -> str
```

    Clears history of messages for all agents or selected one. Can preserve selected number of last messages.<br/>That function is called when user manually provide "clear history" phrase in his reply.<br/>When "clear history" is provided, the history of messages for all agents is cleared.<br/>When "clear history `<agent_name>`" is provided, the history of messages for selected agent is cleared.<br/>When "clear history `<nr_of_messages_to_preserve>`" is provided, the history of messages for all agents is cleared
    except last `<nr_of_messages_to_preserve>` messages.<br/>When "clear history `<agent_name>` `<nr_of_messages_to_preserve>`" is provided, the history of messages for selected
    agent is cleared except last `<nr_of_messages_to_preserve>` messages.<br/>Phrase "clear history" and optional arguments are cut out from the reply before it passed to the chat.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `reply` | reply message dict to analyze.<br/><br/>**Type:** `dict[str, typing.Any]` |
| `groupchat` | GroupChat object.<br/><br/>**Type:** `autogen.agentchat.groupchat.GroupChat` |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### messages_from_string

```python
messages_from_string(self, message_string: str) -> list[dict[str, typing.Any]]
```

    Reads the saved state of messages in Json format for resume and returns as a messages list

<b>Parameters:</b>
| Name | Description |
|--|--|
| `message_string` | **Type:** `str` |

<b>Returns:</b>
| Type | Description |
|--|--|
| `list[dict[str, typing.Any]]` | - List[Dict]: List of messages |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### messages_to_string

```python
messages_to_string(self, messages: list[dict[str, typing.Any]]) -> str
```

    Converts the provided messages into a Json string that can be used for resuming the chat.<br/>The state is made up of a list of messages

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** `list[dict[str, typing.Any]]` |

<b>Returns:</b>
| Type | Description |
|--|--|
| `str` | - str: Json representation of the messages which can be persisted for resuming later |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### resume

```python
resume(
    self,
    messages: list[dict[str, typing.Any]] | str,
    remove_termination_string: str | Callable[[str], str] | None = None,
    silent: bool | None = False
) -> tuple[autogen.agentchat.conversable_agent.ConversableAgent, dict[str, typing.Any]]
```

    Resumes a group chat using the previous messages as a starting point. Requires the agents, group chat, and group chat manager to be established
    as per the original group chat.<br/>

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** `list[dict[str, typing.Any]] \| str` |
| `remove_termination_string` | **Type:** `str \| Callable[[str], str] \| None`<br/><br/>**Default:** None |
| `silent` | **Type:** `bool \| None`<br/><br/>**Default:** False |

<b>Returns:</b>
| Type | Description |
|--|--|
| `tuple[autogen.agentchat.conversable_agent.ConversableAgent, dict[str, typing.Any]]` | - Tuple[ConversableAgent, Dict]: A tuple containing the last agent who spoke and their message |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### run_chat

```python
run_chat(
    self,
    messages: list[dict[str, typing.Any]] | None = None,
    sender: autogen.agentchat.agent.Agent | None = None,
    config: autogen.agentchat.groupchat.GroupChat | None = None
) -> tuple[bool, str | None]
```

    Run a group chat.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `messages` | **Type:** `list[dict[str, typing.Any]] \| None`<br/><br/>**Default:** None |
| `sender` | **Type:** `autogen.agentchat.agent.Agent \| None`<br/><br/>**Default:** None |
| `config` | **Type:** `autogen.agentchat.groupchat.GroupChat \| None`<br/><br/>**Default:** None |

<br />